---
title: How to migrate from NPM to PNPM
categories: ["Guides"]
tags: ["nodejs", "npm", "pnpm"]
image: /assets/img/pnpm.png
---

# Introduction

`pnpm` is a package manager for Node.js that is designed to be faster and more efficient than `npm`. It achieves this by using a shared store of packages, which means that each package is only downloaded once and can be used by multiple projects. This reduces the amount of disk space used and speeds up installation times. Additionally, `pnpm` uses hard links instead of copying files, which further reduces disk usage and speeds up installation times. Overall, `pnpm` is a great choice for projects that require fast and efficient package management.

You can read more about this [here](https://pnpm.io/motivation).

## Benefits

Here are some of the benefits of using `pnpm` over `npm`...

- **Disk space efficiency**: `pnpm` uses a single shared cache for all projects on a system, which means that each package is only downloaded and stored once, saving disk space and reducing download times.

- **Faster installation times**: `pnpm`'s use of a shared cache means that dependencies are only downloaded once, reducing installation times for subsequent projects. This can be particularly beneficial for large projects with many dependencies.

- **Efficient use of system resources**: `pnpm` uses hard links and symlinks to link packages between projects, which means that it avoids copying files between directories, reducing the number of file operations required during installation and update processes. This can help to reduce CPU and I/O usage on your system.

- **Improved security**: `pnpm` maintains a semi-strict node_modules structure, which means that modules have access only to packages they explicitly depend on, preventing implicit dependencies and potential security issues.

- **Simple migration**: `pnpm` is compatible with npm and package.json, which means that existing projects can be easily transferred over without requiring any changes to your code.

- **Improved collaboration**: `pnpm`'s shared cache makes it easier for teams to collaborate on projects without having to manage multiple copies of the same dependencies.

## Instructions

1. Install `pnpm`, there are [various ways](https://pnpm.io/installation) of installing it.

2. Delete the `package-lock.json` file and `node_modules` folder, they will be replaced by files generated by `pnpm`.

3. In your `package.json` file, add this preinstall command `npx only-allow pnpm` under scripts. This will make sure that other devs will only be allowed to use `pnpm`.

```jsonc
{
  "name": "app",
  "version": "1.0.0",
  "scripts": {
    "preinstall": "npx only-allow pnpm" // this is the line that you add
  }
}
```

4. Run `pnpm install` to install the dependencies.

5. Done!

### What's next?

After having migrated to `pnpm`, you should replace anything replaced to `npm` with `pnpm` in your command line or your IDE. For example...

- `npm run dev` 游목 `pnpm run dev`
- `npm install sass` 游목 `pnpm install sass`
- `npm update --latest` 游목 `pnpm update --latest`
- `npx create-next-app` 游목 `pnpx create-next-app`

That's all! See you next time... 游녦